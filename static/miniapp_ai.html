<!DOCTYPE html>
<html lang="uz">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Taxi Post</title>

<script src="https://telegram.org/js/telegram-web-app.js"></script>
<script src="miniapp_data.js"></script>
<script defer src="miniapp_ai_v2.js"></script>

<style>
body{
  margin:0;
  background:#0f172a;
  color:#f8fafc;
  font-family:system-ui,-apple-system,BlinkMacSystemFont;
}

.container{
  max-width:520px;
  margin:auto;
  padding:18px;
}

h2{
  text-align:center;
  margin-bottom:20px;
}

.section{
  margin-bottom:20px;
}

.label{
  font-size:15px;
  margin-bottom:6px;
  font-weight:600;
}

select,input,textarea{
  width:100%;
  padding:16px;
  font-size:16px;
  border-radius:12px;
  border:none;
  background:#020617;
  color:#fff;
}

textarea{min-height:90px}

.row{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:12px;
}

.big-toggle{
  display:flex;
  align-items:center;
  gap:12px;
  padding:14px;
  background:#020617;
  border-radius:12px;
  margin-bottom:10px;
  cursor:pointer;
}

.big-toggle input{
  width:22px;
  height:22px;
}

.big-toggle span{
  font-size:16px;
}

button{
  width:100%;
  padding:18px;
  font-size:18px;
  font-weight:700;
  border:none;
  border-radius:14px;
  background:#22c55e;
  color:#052e16;
  cursor:pointer;
}
</style>
</head>

<body>
<div class="container">

<h2>ðŸš• Taxi eâ€™lon yaratish</h2>

<!-- YOâ€˜NALISH -->
<div class="section">
  <div class="label">Yoâ€˜nalish</div>
  <div class="row">
    <select id="from_region"></select>
    <select id="to_region"></select>
  </div>
</div>

<!-- TUMAN -->
<div class="section">
  <div class="label">Qayerdan (tumanlar)</div>
  <div id="from_districts"></div>
  <button onclick="addDistrict('from')" style="margin-top:8px">âž• Tuman qoâ€˜shish</button>
</div>

<div class="section">
  <div class="label">Qayerga (tumanlar)</div>
  <div id="to_districts"></div>
  <button onclick="addDistrict('to')" style="margin-top:8px">âž• Tuman qoâ€˜shish</button>
</div>

<!-- ODAMLAR -->
<div class="section">
  <div class="label">Necha kishi bor</div>
  <input id="people" type="number" min="1" placeholder="Masalan: 3">
</div>

<!-- HOLATLAR -->
<div class="section">
  <div class="label">Qoâ€˜shimcha holatlar</div>

  <label class="big-toggle">
    <input type="checkbox" data-key="has_woman">
    <span>ðŸ‘© Ayol bor</span>
  </label>

  <label class="big-toggle">
    <input type="checkbox" data-key="urgent">
    <span>âš¡ Tez chiqish kerak</span>
  </label>

  <label class="big-toggle">
    <input type="checkbox" data-key="baggage">
    <span>ðŸ§³ Bagaj bor</span>
  </label>

  <label class="big-toggle">
    <input type="checkbox" data-key="mail">
    <span>ðŸ“¦ Pochta bor</span>
  </label>

  <label class="big-toggle">
    <input type="checkbox" data-key="telegram">
    <span>ðŸ’¬ Telegram orqali bogâ€˜lanish</span>
  </label>
</div>

<!-- VAQT -->
<div class="section">
  <div class="label">Ketish vaqti</div>
  <input id="time" type="time">
</div>

<!-- MASHINA -->
<div class="section">
  <div class="label">Mashina rusumi</div>
  <select id="car"></select>
  <input id="custom_car" style="margin-top:8px" placeholder="Agar roâ€˜yxatda boâ€˜lmasa">
</div>

<!-- TELEFON -->
<div class="section">
  <div class="label">Telefon raqam</div>
  <input id="phone" placeholder="+998 xx xxx xx xx">
  <input id="phone2" placeholder="Qoâ€˜shimcha raqam (ixtiyoriy)" style="margin-top:8px">
</div>

<!-- IZOH -->
<div class="section">
  <div class="label">Qoâ€˜shimcha izoh</div>
  <textarea id="comment" placeholder="Masalan: ertalab chiqaman, kelishiladi"></textarea>
</div>

<button onclick="submitForm()">ðŸš€ Eâ€™lon yaratish</button>

</div>

<script>
Telegram.WebApp.ready();

/* eski toggle logikaga moslashtiramiz */
document.querySelectorAll(".big-toggle input").forEach(i=>{
  i.addEventListener("change",()=>{
    i.parentElement.classList.toggle("active", i.checked);
  });
});
</script>

</body>
</html>
